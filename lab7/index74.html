<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"
        integrity="sha512-KZmyTq3PLx9EZl0RHShHQuXtrvdJ+m35tuOiwlcZfs/rE7NZv29ygNA8SFCkMXTnYZQK2OX0Gm2qKGfvWEtRXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
    <header>
        <!-- place navbar here -->
    </header>
    <main>
        <div ng-app="productApp" ng-controller="ProductController as vm">
            <h2>Danh sach hang hoa</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th><a href="#" ng-click="sortBy('name')">SẢN PHẨM</a></th>
                        <th><a href="#" ng-click="sortBy('price')">ĐƠN GIÁ</a></th>
                        <th><a href="#" ng-click="sortBy('discount')">GIẢM GIÁ</a></th>
                        <th><a href="#" ng-click="sortBy('date')">NGAY</a></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="p in products|orderBy:prop|limitTo:8:begin">
                        <td scope="row">{{product.name}}</td>
                        <td>{{product.price}}</td>
                        <td>{{product.discount | percentage: 2}}</td>
                        <td>{{product.date}}</td>
                    </tr>
                </tbody>

            </table>
            <ul class="pager">
                <li><a href="#" ng-click="first()">
                        <span class="glyphicon glyphicon-hand-up"></span></a></li>
                <li><a href="#" ng-click="prev()">
                        <span class="glyphicon glyphicon-hand-left"></span></a></li>
                <li><a href="#" ng-click="next()">
                        <span class="glyphicon glyphicon-hand-right"></span></a></li>
                <li><a href="#" ng-click="last()">
                        <span class="glyphicon glyphicon-hand-down"></span></a></li>
            </ul>
        </div>
        <script>
            var app = angular.module("productApp", []);
            app.controller("ProductController", function () {
                $scope.prop = "name";
                $scope.sortBy = function (prop) {
                    $scope.prop = prop;
                }

                $scope.begin = 0;
                $scope.pageCount = Math.ceil($scope.products.length / 8);
                $scope.first = function () {
                    $scope.begin = 0;
                }

                $scope.prev = function () {
                    if ($scope.begin > 0) {
                        $scope.begin -= 8;
                    }
                }

                $scope.next = function () {
                    if ($scope.begin < ($scope.pageCount - 1) * 8){
                            $scope.begin += 8;
                    }
                }
                $scope.last = function () {
                $scope.begin = ($scope.pageCount- 1) * 8;
                }   
            var vm = this;
            vm.products = [
                { name: 'San pham 1', price: 100, discount: 10, date: '2024-03-22' },
                { name: 'San pham 2', price: 150, discount: 9, date: '2024-03-23' },
                { name: 'San pham 3', price: 200, discount: 7, date: '2024-03-22' },
                { name: 'San pham 4', price: 98, discount: 12, date: '2024-04-01' },
                { name: 'San pham 5', price: 201, discount: 8, date: '2024-03-22' },
                { name: 'San pham 6', price: 100, discount: 10, date: '2024-03-22' },
                { name: 'San pham 7', price: 150, discount: 9, date: '2024-03-23' },
                { name: 'San pham 8', price: 200, discount: 7, date: '2024-03-22' },
                { name: 'San pham 9', price: 98, discount: 12, date: '2024-04-01' },
                { name: 'San pham 10', price: 201, discount: 8, date: '2024-03-22' },
                { name: 'San pham 11', price: 100, discount: 10, date: '2024-03-22' },
                { name: 'San pham 12', price: 150, discount: 9, date: '2024-03-23' },
                { name: 'San pham 13', price: 200, discount: 7, date: '2024-03-22' },
                { name: 'San pham 14', price: 98, discount: 12, date: '2024-04-01' },
                { name: 'San pham 15', price: 201, discount: 8, date: '2024-03-22' },
                { name: 'San pham 16', price: 100, discount: 10, date: '2024-03-22' },
                { name: 'San pham 17', price: 150, discount: 9, date: '2024-03-23' },
                { name: 'San pham 18', price: 200, discount: 7, date: '2024-03-22' },
                { name: 'San pham 19', price: 98, discount: 12, date: '2024-04-01' },
                { name: 'San pham 20', price: 201, discount: 8, date: '2024-03-22' },
            ];
            })
                .filter('percentage', ['$filter', function ($filter) {
                return function (input, decimals) {
                    return $filter('number')(input, decimals) + '%';
                };
            }]);
        </script>
    </main>
    <footer>
        <!-- place footer here -->
    </footer>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</body>

</html>